<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plano de Treino Interativo – Meia Maratona (Setembro)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Cool Blue and Slate -->
    <!-- Application Structure Plan: This application uses a weekly dashboard structure, which is ideal for a single-month, high-intensity training plan. Top navigation buttons allow the user to switch between the four weeks of September. The main view presents a 7-day grid of workout cards, providing a clear and comprehensive overview of the entire week's schedule. A bar chart visualizes the weekly running volume, highlighting the progression towards a peak in week 3 and the subsequent taper in week 4. This structure is highly intuitive for tracking a structured, progressive training load. -->
    <!-- Visualization & Content Choices: Report Info: 4-week training schedule for a half marathon -> Goal: Organize & Inform -> Viz/Presentation: Interactive weekly views with a 7-day card grid (HTML/CSS). Interaction: Week selection buttons (JS). Justification: Provides a complete daily overview, which is necessary for a plan with varied activities like running, gym, and mobility. | Report Info: Weekly running distance -> Goal: Show Change/Progression -> Viz/Presentation: Bar Chart (Chart.js/Canvas). Interaction: Highlights the selected week's bar. Justification: Effectively communicates the training load's progression and tapering phase, culminating in the race week. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .nav-button.active {
            background-color: #2563eb;
            color: #ffffff;
            font-weight: 600;
        }
        .nav-button {
            transition: all 0.3s ease;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-blue-800 mb-2">📅 Plano de Treino – Meia Maratona (Setembro 2025)</h1>
            <p class="text-slate-600 max-w-3xl mx-auto">Seu plano de treino detalhado para a prova de 21.1km. Selecione a semana para ver as atividades de cada dia.</p>
        </header>

        <nav class="flex flex-wrap justify-center gap-2 mb-8">
            <button data-week="1" class="nav-button w-auto text-sm md:text-base bg-white border border-slate-300 rounded-lg px-4 py-2 text-slate-700 hover:bg-blue-50">Semana 1</button>
            <button data-week="2" class="nav-button w-auto text-sm md:text-base bg-white border border-slate-300 rounded-lg px-4 py-2 text-slate-700 hover:bg-blue-50">Semana 2</button>
            <button data-week="3" class="nav-button w-auto text-sm md:text-base bg-white border border-slate-300 rounded-lg px-4 py-2 text-slate-700 hover:bg-blue-50">Semana 3</button>
            <button data-week="4" class="nav-button w-auto text-sm md:text-base bg-white border border-slate-300 rounded-lg px-4 py-2 text-slate-700 hover:bg-blue-50">Semana 4</button>
        </nav>

        <main id="weekly-plan-container">
        </main>

        <section class="mt-12 bg-white p-4 sm:p-6 rounded-2xl shadow-sm border border-slate-200">
            <div class="text-center mb-4">
                <h2 class="text-2xl font-bold text-blue-800">📈 Progressão de Volume Semanal (Corrida)</h2>
                <p class="text-slate-600 max-w-2xl mx-auto mt-1">Acompanhe o total de quilómetros de corrida planeados para cada semana de Setembro, incluindo a prova.</p>
            </div>
            <div class="chart-container">
                <canvas id="volumeChart"></canvas>
            </div>
        </section>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const trainingData = [
                {
                    week: 1, dates: '01/09 a 07/09', focus: 'Semana de Carga', color: 'border-green-500', bgColor: 'bg-green-50', totalVolume: 35.8,
                    days: [
                        { day: 'Segunda', icon: '🏋️', title: 'Força', details: 'Academia + Mobilidade' },
                        { day: 'Terça', icon: '⚡', title: 'Intervalado', details: '2km aquece<br><strong>6x 800m</strong> 4:45/km (2’ cam)<br>1km desaq' },
                        { day: 'Quarta', icon: '🏃‍♂️', title: 'Corrida Leve', details: '<strong>6km</strong> (pace 6:10 ~ 6:30/km)' },
                        { day: 'Quinta', icon: '⏱️', title: 'Ritmo', details: '<strong>6km</strong> a 5:15/km' },
                        { day: 'Sexta', icon: '🏋️', title: 'Força', details: 'Academia' },
                        { day: 'Sábado', icon: '🧘', title: 'Descanso Ativo', details: 'Descanso ou mobilidade leve' },
                        { day: 'Domingo', icon: '⛰️', title: 'Longo', details: '<strong>16km</strong>' }
                    ]
                },
                {
                    week: 2, dates: '08/09 a 14/09', focus: 'Aumento de Volume', color: 'border-yellow-500', bgColor: 'bg-yellow-50', totalVolume: 43,
                    days: [
                        { day: 'Segunda', icon: '🏋️', title: 'Força', details: 'Academia + Mobilidade' },
                        { day: 'Terça', icon: '⚡', title: 'Intervalado', details: '2km aquece<br><strong>4x 2000m</strong> 5:00/km (3’ leve)<br>1km desaq' },
                        { day: 'Quarta', icon: '🏃‍♂️', title: 'Corrida Leve', details: '<strong>6km</strong> (pace 6:10 ~ 6:30/km)' },
                        { day: 'Quinta', icon: '⏱️', title: 'Ritmo Progressivo', details: '<strong>8km</strong> (5:30 → 5:00/km)' },
                        { day: 'Sexta', icon: '🏋️', title: 'Força', details: 'Academia' },
                        { day: 'Sábado', icon: '🧘', title: 'Descanso Ativo', details: 'Descanso ou mobilidade leve' },
                        { day: 'Domingo', icon: '⛰️', title: 'Longo', details: '<strong>18km</strong>' }
                    ]
                },
                {
                    week: 3, dates: '15/09 a 21/09', focus: 'Início do Polimento (Taper)', color: 'border-orange-500', bgColor: 'bg-orange-50', totalVolume: 32,
                    days: [
                        { day: 'Segunda', icon: '🏋️', title: 'Força', details: 'Academia + Mobilidade' },
                        { day: 'Terça', icon: '⚡', title: 'Intervalado', details: '2km aquece<br><strong>5x 1000m</strong> 4:50/km (2’ leve)<br>1km desaq' },
                        { day: 'Quarta', icon: '🏃‍♂️', title: 'Corrida Leve', details: '<strong>6km</strong> (pace 6:10 ~ 6:30/km)' },
                        { day: 'Quinta', icon: '⏱️', title: 'Ritmo Constante', details: '<strong>6km</strong> a 5:05/km' },
                        { day: 'Sexta', icon: '🏋️', title: 'Força', details: 'Academia' },
                        { day: 'Sábado', icon: '🧘', title: 'Descanso Ativo', details: 'Descanso ou mobilidade leve' },
                        { day: 'Domingo', icon: '⛰️', title: 'Longo Leve', details: '<strong>12km</strong> (Taper)' }
                    ]
                },
                {
                    week: 4, dates: '22/09 a 28/09', focus: 'Semana da Prova', color: 'border-red-500', bgColor: 'bg-red-50', totalVolume: 42.9,
                    days: [
                        { day: 'Segunda', icon: '🏋️', title: 'Força', details: 'Academia + Mobilidade' },
                        { day: 'Terça', icon: '⚡', title: 'Intervalado', details: '2km aquece<br><strong>3x 1600m</strong> 4:55/km (3’ leve)<br>1km desaq' },
                        { day: 'Quarta', icon: '🏃‍♂️', title: 'Corrida Leve', details: '<strong>6km</strong> (pace 6:10 ~ 6:30/km)' },
                        { day: 'Quinta', icon: '⏱️', title: 'Ritmo Leve', details: '5km leve + <strong>3km</strong> a 5:10/km' },
                        { day: 'Sexta', icon: '🏋️', title: 'Força', details: 'Academia' },
                        { day: 'Sábado', icon: '🧘', title: 'Descanso Total', details: 'Descanso total' },
                        { day: 'Domingo', icon: '🏁', title: 'PROVA!', details: '<strong>Meia Maratona 21.1km</strong>' }
                    ]
                }
            ];

            const container = document.getElementById('weekly-plan-container');
            const navButtons = document.querySelectorAll('.nav-button');
            let volumeChart;

            function renderWeek(weekNumber) {
                const weekData = trainingData.find(w => w.week === weekNumber);
                if (!weekData) return;

                container.innerHTML = `
                    <div id="week-${weekData.week}" class="week-content bg-white p-4 sm:p-6 rounded-2xl shadow-sm border ${weekData.color}">
                        <div class="text-center mb-6">
                            <h3 class="text-2xl font-bold text-blue-800">Semana ${weekData.week} <span class="text-lg font-medium text-slate-500">(${weekData.dates})</span></h3>
                             <p class="text-blue-700 font-semibold capitalize mt-1 p-2 rounded-md inline-block ${weekData.bgColor}">${weekData.focus}</p>
                        </div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 xl:grid-cols-7 gap-4">
                            ${weekData.days.map(day => `
                                <div class="bg-slate-50 border border-slate-200 rounded-xl p-4 flex flex-col h-full">
                                    <div class="flex items-center mb-2">
                                        <span class="text-2xl mr-3">${day.icon}</span>
                                        <div>
                                            <h4 class="font-bold text-slate-800">${day.day}</h4>
                                            <p class="text-sm text-slate-600">${day.title}</p>
                                        </div>
                                    </div>
                                    <div class="text-slate-700 text-sm mt-2 flex-grow">
                                        ${day.details}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }
            
            function updateActiveButton(weekNumber) {
                navButtons.forEach(button => {
                    button.classList.remove('active');
                    if (parseInt(button.dataset.week) === weekNumber) {
                        button.classList.add('active');
                    }
                });
            }

            function updateChartHighlight(weekNumber) {
                if (volumeChart) {
                    const activeColor = '#1d4ed8'; 
                    const inactiveColor = '#94a3b8';

                    volumeChart.data.datasets[0].backgroundColor = volumeChart.data.labels.map((label, index) => 
                        (index + 1) === weekNumber ? activeColor : inactiveColor
                    );
                    volumeChart.update();
                }
            }
            
            function showWeek(weekNumber) {
                renderWeek(weekNumber);
                updateActiveButton(weekNumber);
                updateChartHighlight(weekNumber);
            }

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const weekNumber = parseInt(button.dataset.week);
                    showWeek(weekNumber);
                });
            });

            function initializeChart() {
                const ctx = document.getElementById('volumeChart').getContext('2d');
                const labels = trainingData.map(w => `Semana ${w.week}`);
                const data = trainingData.map(w => w.totalVolume);

                volumeChart = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [{
                            label: 'Volume de Corrida (km)',
                            data: data,
                            backgroundColor: '#94a3b8',
                            borderColor: '#475569',
                            borderWidth: 1,
                            borderRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: { legend: { display: false }, tooltip: { callbacks: { label: (c) => `Volume: ${c.parsed.y.toFixed(1)} km` } } },
                        scales: { y: { beginAtZero: true, title: { display: true, text: 'Distância (km)' } }, x: { grid: { display: false } } }
                    }
                });
            }
            
            function getCurrentWeek(year) {
                const now = new Date();
                for (const weekData of trainingData) {
                    const [startStr, endStr] = weekData.dates.split(' a ');
                    const [startDay, startMonth] = startStr.split('/').map(Number);
                    const [endDay, endMonth] = endStr.split('/').map(Number);
                    const startDate = new Date(year, startMonth - 1, startDay);
                    const endYear = (endMonth < startMonth) ? year + 1 : year;
                    const endDate = new Date(endYear, endMonth - 1, endDay);
                    endDate.setHours(23, 59, 59, 999);
                    if (now >= startDate && now <= endDate) return weekData.week;
                }
                return 1;
            }

            initializeChart();
            const yearOfPlan = 2025;
            const activeWeek = getCurrentWeek(yearOfPlan);
            showWeek(activeWeek);
        });
    </script>

</body>
</html>
